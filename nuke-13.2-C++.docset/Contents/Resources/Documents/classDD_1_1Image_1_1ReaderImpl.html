<html><head><link href="doxygen.css" rel="stylesheet" type="text/css">
<title>Nuke Developer Kit (NDK) 13.2.4: DD::Image::ReaderImpl Class Reference</title></head><body>
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classDD_1_1Image_1_1ReaderImpl.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classDD_1_1Image_1_1ReaderImpl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DD::Image::ReaderImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Private, hidden implementation for <a class="el" href="classDD_1_1Image_1_1Reader.html">DD::Image::Reader</a> objects.  
 <a href="classDD_1_1Image_1_1ReaderImpl.html#details">More...</a></p>

<p>Inherits <a class="el" href="classDD_1_1Image_1_1LUTInfo.html">DD::Image::LUTInfo</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4e7a10b1be644ac90779fc6adf3fea2b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e7a10b1be644ac90779fc6adf3fea2b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ReaderImpl</b> (<a class="el" href="classDD_1_1Image_1_1Read.html">Read</a> *pOp, <a class="el" href="classDD_1_1Image_1_1Reader.html">Reader</a> *pReader)</td></tr>
<tr class="separator:a4e7a10b1be644ac90779fc6adf3fea2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38fdc2d814d35f64ff22fdfd0cb1f99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac38fdc2d814d35f64ff22fdfd0cb1f99"></a>
virtual <a class="el" href="classDD_1_1Image_1_1LUT.html">LUT</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>defaultLut</b> () const </td></tr>
<tr class="separator:ac38fdc2d814d35f64ff22fdfd0cb1f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88146cfd7700a3cbe8907090e786471"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab88146cfd7700a3cbe8907090e786471"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1ReaderImpl.html#ab88146cfd7700a3cbe8907090e786471">updateColorspaceDefaultValue</a> ()</td></tr>
<tr class="memdesc:ab88146cfd7700a3cbe8907090e786471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update overridden colorspace name and call updateColorspaceDefaultValue from the base class (<a class="el" href="classDD_1_1Image_1_1LUTInfo.html">LUTInfo</a>) <br /></td></tr>
<tr class="separator:ab88146cfd7700a3cbe8907090e786471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b817529066f389b1696a38087625e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1ReaderImpl.html#a19b817529066f389b1696a38087625e4">setOriginalDefaultLut</a> (<a class="el" href="classDD_1_1Image_1_1LUT.html">LUT</a> *lut)</td></tr>
<tr class="separator:a19b817529066f389b1696a38087625e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166c1642cb811c5758ba82d64e5564d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a166c1642cb811c5758ba82d64e5564d5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1ReaderImpl.html#a166c1642cb811c5758ba82d64e5564d5">rowPadMultiple</a> () const  noexcept</td></tr>
<tr class="memdesc:a166c1642cb811c5758ba82d64e5564d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rows must be padded to be multiples of this value, in bytes. 0 means no padding. <br /></td></tr>
<tr class="separator:a166c1642cb811c5758ba82d64e5564d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289a7e8d5320226843c1cfabbe6dcf54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a289a7e8d5320226843c1cfabbe6dcf54"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1ReaderImpl.html#a289a7e8d5320226843c1cfabbe6dcf54">setRowPadMultiple</a> (int <a class="el" href="classDD_1_1Image_1_1ReaderImpl.html#a166c1642cb811c5758ba82d64e5564d5">rowPadMultiple</a>) noexcept</td></tr>
<tr class="memdesc:a289a7e8d5320226843c1cfabbe6dcf54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rows must be padded to be multiples of this value, in bytes. 0 means no padding. <br /></td></tr>
<tr class="separator:a289a7e8d5320226843c1cfabbe6dcf54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classDD_1_1Image_1_1LUTInfo"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classDD_1_1Image_1_1LUTInfo')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classDD_1_1Image_1_1LUTInfo.html">DD::Image::LUTInfo</a></td></tr>
<tr class="memitem:a1b6b29a2b82e7e2fcfdc2253ba74aaf8 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b6b29a2b82e7e2fcfdc2253ba74aaf8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LUTInfo</b> (<a class="el" href="classDD_1_1Image_1_1Op.html">Op</a> *pOp)</td></tr>
<tr class="separator:a1b6b29a2b82e7e2fcfdc2253ba74aaf8 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d0b1ac280f9245a2ea112e405486dd inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8d0b1ac280f9245a2ea112e405486dd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1LUTInfo.html#af8d0b1ac280f9245a2ea112e405486dd">registerForCallbacks</a> ()</td></tr>
<tr class="memdesc:af8d0b1ac280f9245a2ea112e405486dd inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="mdescLeft">&#160;</td><td class="mdescRight">This must be called after the Reader/Writer is constructed. <br /></td></tr>
<tr class="separator:af8d0b1ac280f9245a2ea112e405486dd inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7da5ec0bd89016cbf19b979c30639d inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1LUTInfo.html#a2f7da5ec0bd89016cbf19b979c30639d">unregisterForCallbacks</a> ()</td></tr>
<tr class="separator:a2f7da5ec0bd89016cbf19b979c30639d inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44409ede1e3dc5f546d6dd162a495716 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44409ede1e3dc5f546d6dd162a495716"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLUTDataTypeHint</b> (const LUT::DataType type) const </td></tr>
<tr class="separator:a44409ede1e3dc5f546d6dd162a495716 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef17426dbe448be5c87317f6d08c375a inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef17426dbe448be5c87317f6d08c375a"></a>
LUT::DataType&#160;</td><td class="memItemRight" valign="bottom"><b>lutDataTypeHint</b> () const </td></tr>
<tr class="separator:aef17426dbe448be5c87317f6d08c375a inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91384dde26e21da3dd6ac27516c709a inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1LUTInfo.html#ae91384dde26e21da3dd6ac27516c709a">getBuiltinLUTName</a> (std::string &amp;mappedStringOut)</td></tr>
<tr class="separator:ae91384dde26e21da3dd6ac27516c709a inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2121c9c7d4fab6cf2d2354efaddc7695 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2121c9c7d4fab6cf2d2354efaddc7695"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1LUTInfo.html#a2121c9c7d4fab6cf2d2354efaddc7695">updateColorspaceDefaultValue</a> ()</td></tr>
<tr class="memdesc:a2121c9c7d4fab6cf2d2354efaddc7695 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="mdescLeft">&#160;</td><td class="mdescRight">util function for calling <a class="el" href="classDD_1_1Image_1_1LUTInfo.html#a2121c9c7d4fab6cf2d2354efaddc7695" title="util function for calling updateColorspaceDefaultValue() ">updateColorspaceDefaultValue()</a> <br /></td></tr>
<tr class="separator:a2121c9c7d4fab6cf2d2354efaddc7695 inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c8cdc3ff4855cda02756a333cc847d inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87c8cdc3ff4855cda02756a333cc847d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1LUTInfo.html#a87c8cdc3ff4855cda02756a333cc847d">stripCascadingPrefix</a> (const std::string &amp;) const </td></tr>
<tr class="memdesc:a87c8cdc3ff4855cda02756a333cc847d inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="mdescLeft">&#160;</td><td class="mdescRight">strip off cascading menus prefix <br /></td></tr>
<tr class="separator:a87c8cdc3ff4855cda02756a333cc847d inherit pub_methods_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classDD_1_1Image_1_1LUTInfo"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classDD_1_1Image_1_1LUTInfo')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classDD_1_1Image_1_1LUTInfo.html">DD::Image::LUTInfo</a></td></tr>
<tr class="memitem:a221d7690b4a09842e13022d8c7585c47 inherit pro_attribs_classDD_1_1Image_1_1LUTInfo"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a221d7690b4a09842e13022d8c7585c47"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_overrideColorspaceName</b></td></tr>
<tr class="separator:a221d7690b4a09842e13022d8c7585c47 inherit pro_attribs_classDD_1_1Image_1_1LUTInfo"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Private, hidden implementation for <a class="el" href="classDD_1_1Image_1_1Reader.html">DD::Image::Reader</a> objects. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a19b817529066f389b1696a38087625e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReaderImpl::setOriginalDefaultLut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDD_1_1Image_1_1LUT.html">LUT</a> *&#160;</td>
          <td class="paramname"><em>lut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When Nuke is using OCIO color management, the reader's lut gets reset to linear in Read::make_reader(). This caused the problem that if <a class="el" href="classDD_1_1Image_1_1ReaderImpl.html#ab88146cfd7700a3cbe8907090e786471" title="Update overridden colorspace name and call updateColorspaceDefaultValue from the base class (LUTInfo)...">updateColorspaceDefaultValue()</a> is called after that it would determine the default colorspace mapping based on that, rather than what the reader actually specified for the default lut. This stores that original lut, and returns it from defaultLut() if set. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<br>
<hr>
<table width="100%"  border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><span class="legal">&copy;2022 The Foundry Visionmongers, Ltd.  All Rights Reserved. </span></td>
    <td><div align="right"><span class="legal"><a href="http://www.thefoundry.co.uk" target="_blank">www.thefoundry.co.uk</a></span></div></td>
  </tr>
</table>
</body>
</html>
