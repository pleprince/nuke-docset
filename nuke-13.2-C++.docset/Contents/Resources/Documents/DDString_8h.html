<html><head><link href="doxygen.css" rel="stylesheet" type="text/css">
<title>Nuke Developer Kit (NDK) 13.2.4: DDString.h File Reference</title></head><body>
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('DDString_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DDString.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Cross-platform string manipulation functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aca550a492fad54759bc0d0d8fb5df3f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca550a492fad54759bc0d0d8fb5df3f1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DDvsnprintf</b></td></tr>
<tr class="separator:aca550a492fad54759bc0d0d8fb5df3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca220cc463b96d1e2edb81d7a1727f67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca220cc463b96d1e2edb81d7a1727f67"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>newstring</b>(x)</td></tr>
<tr class="separator:aca220cc463b96d1e2edb81d7a1727f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b8768e67e9f45aafe7bd2e42593642"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6b8768e67e9f45aafe7bd2e42593642"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>strtod</b>(a,  b)</td></tr>
<tr class="separator:ac6b8768e67e9f45aafe7bd2e42593642"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a154043ea6d83b8616f3148fbf4f24244"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DDString_8h.html#a154043ea6d83b8616f3148fbf4f24244">vsnprintf</a> (char *str, size_t size, const char *fmt, va_list ap)</td></tr>
<tr class="separator:a154043ea6d83b8616f3148fbf4f24244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c1e8ce8a2b411fa666dc33972a2cec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DDString_8h.html#a37c1e8ce8a2b411fa666dc33972a2cec">snprintf</a> (char *str, size_t size, const char *fmt,...)</td></tr>
<tr class="separator:a37c1e8ce8a2b411fa666dc33972a2cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85b825a7f3d4dcf136b85949b646a46"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DDString_8h.html#ae85b825a7f3d4dcf136b85949b646a46">strlcat</a> (char *dst, const char *src, size_t siz)</td></tr>
<tr class="separator:ae85b825a7f3d4dcf136b85949b646a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb79f86261de904967d433c1b5e9a1de"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DDString_8h.html#aeb79f86261de904967d433c1b5e9a1de">strlcpy</a> (char *dst, const char *src, size_t siz)</td></tr>
<tr class="separator:aeb79f86261de904967d433c1b5e9a1de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e133664f31e5dffe0765c4df141b36"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DDString_8h.html#a05e133664f31e5dffe0765c4df141b36">DDImage_newstring</a> (const char *)</td></tr>
<tr class="separator:a05e133664f31e5dffe0765c4df141b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f9b6b95ed05e70ca8bb68ed1d652ca"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DDString_8h.html#a53f9b6b95ed05e70ca8bb68ed1d652ca">DDImage_strtod</a> (const char *p, char **endptr)</td></tr>
<tr class="separator:a53f9b6b95ed05e70ca8bb68ed1d652ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cross-platform string manipulation functions. </p>
<p>You should use this file instead of &lt;string.h&gt;, &lt;stdlib.h&gt;, or &lt;stdio.h&gt;. This defines replacements for several standard library functions to produce the same behavior on all platforms (mostly to copy Linux features to Windows). It also defines functions from BSD that make string manipulation that does not overflow buffers much easier. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a154043ea6d83b8616f3148fbf4f24244"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vsnprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print at most <em>size</em> characters (including a trailing null) into the buffer pointed to by <em>str</em>. Returns the number of bytes written (not including the nul). If the printout is truncated this is supposed to return the number of bytes that <em>would</em> have been printed, however this only works on newer Linux machines, other systems return -1 or zero.</p>
<p>Linux provides this function. On NT it calls _vsnprintf which is almost correct. On Irix and some other systems an emulation function is used. This emulation is rather simple and has the following bugs:</p>
<ul>
<li>Field width &amp; Precision is ignored for %%, %c, and %s.</li>
</ul>
<ul>
<li>All other formats are printed to an internal buffer that can be overflowed by use of large percision or field width values. For instance %110f will overflow.</li>
</ul>
<ul>
<li>Only handles formats that are both documented in the glibc man page for printf and also handled by your system's sprintf(). </li>
</ul>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Op.html#ae2058a0ade50b432f556bf5495a7cb3a">DD::Image::Op::critical()</a>, <a class="el" href="classDD_1_1Image_1_1Op.html#ae90a6cff9b671dac3e5fcfd9809770f2">DD::Image::Op::debug()</a>, <a class="el" href="classDD_1_1Image_1_1Op.html#afc3f4acb738937d3319707849fe1b26f">DD::Image::Op::error()</a>, <a class="el" href="classDD_1_1Image_1_1WriteGeo.html#abceab2d81b7c07498e068ede150dc173">DD::Image::WriteGeo::internalError()</a>, <a class="el" href="classDD_1_1Image_1_1ReadGeo.html#aa4f4b7ddd0a3ec203dd9d05cc0c0c002">DD::Image::ReadGeo::internalError()</a>, <a class="el" href="classDD_1_1Image_1_1Write.html#a6e86525fcefa036f39dcce06e3dd9d1c">DD::Image::Write::internalError()</a>, <a class="el" href="classDD_1_1Image_1_1Op.html#a04c62b98ae62d3715b7c5b5a0c3817e5">DD::Image::Op::progressMessage()</a>, <a class="el" href="DDString_8h.html#a37c1e8ce8a2b411fa666dc33972a2cec">snprintf()</a>, and <a class="el" href="classDD_1_1Image_1_1Op.html#ad20367c3afd62cd40a9c4f13848e3ae3">DD::Image::Op::warning()</a>.</p>

</div>
</div>
<a class="anchor" id="a37c1e8ce8a2b411fa666dc33972a2cec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print at most <em>size</em> characters (including a trailing null) into the buffer pointed to by <em>str</em>. See vsnprintf for bugs. </p>

<p>References <a class="el" href="DDString_8h.html#a154043ea6d83b8616f3148fbf4f24244">vsnprintf()</a>.</p>

<p>Referenced by <a class="el" href="namespaceDD_1_1Image.html#a707bb8e0606838095d2f3b9131f23110">DD::Image::plugin_binary()</a>, <a class="el" href="namespaceDD_1_1Image.html#a58351c10a08cf1980a2123ba12763c1b">DD::Image::plugin_load()</a>, and <a class="el" href="namespaceDD_1_1Image.html#a3a7af8f5d0df84b9bbd599136e73cbce">DD::Image::plugin_load_one()</a>.</p>

</div>
</div>
<a class="anchor" id="ae85b825a7f3d4dcf136b85949b646a46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t strlcat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>siz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>BSD no-buffer-overflow string concatanation function. Appends <em>src</em> to buffer <em>dst</em> of size <em>siz</em> (unlike strncat(), <em>siz</em> is the full size of <em>dst</em>, not space left). At most <em>siz-1</em> characters will be copied. Always NUL terminates (unless <em>siz</em> == 0). Returns strlen(initial dst) + strlen(src); if retval &gt;= siz, truncation occurred. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Writer_1_1Description.html#a765c896abcbf439765d24ab50d575c0b">DD::Image::Writer::Description::find()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb79f86261de904967d433c1b5e9a1de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t strlcpy </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>siz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>BSD no-buffer-overflow string copy function. Copy <em>src</em> to buffer <em>dst</em> of size <em>siz</em>. At most <em>siz-1</em> characters will be copied. Always NUL terminates (unless <em>siz</em> == 0). Returns strlen(src); if retval &gt;= siz, truncation occurred. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1GeoWriter.html#a4903d97c8d000ff64ea221416a37b71a">DD::Image::GeoWriter::close()</a>, <a class="el" href="classDD_1_1Image_1_1Writer_1_1Description.html#a765c896abcbf439765d24ab50d575c0b">DD::Image::Writer::Description::find()</a>, <a class="el" href="classDD_1_1Image_1_1WriteGeo.html#abceab2d81b7c07498e068ede150dc173">DD::Image::WriteGeo::internalError()</a>, <a class="el" href="classDD_1_1Image_1_1ReadGeo.html#aa4f4b7ddd0a3ec203dd9d05cc0c0c002">DD::Image::ReadGeo::internalError()</a>, <a class="el" href="classDD_1_1Image_1_1Write.html#a6e86525fcefa036f39dcce06e3dd9d1c">DD::Image::Write::internalError()</a>, <a class="el" href="classDD_1_1Image_1_1GeoWriter.html#ac50f377ed66da59552ffdac4048e093c">DD::Image::GeoWriter::open()</a>, <a class="el" href="namespaceDD_1_1Image.html#af6fda19d8615419c98ab4aea6765bf4d">DD::Image::plugin_addpath()</a>, <a class="el" href="namespaceDD_1_1Image.html#a4d4efa8b324c0108ea1486ecf113b767">DD::Image::plugin_error()</a>, <a class="el" href="namespaceDD_1_1Image.html#a359004bc4e2aeed3c2c8b5743cfecace">DD::Image::plugin_find()</a>, and <a class="el" href="namespaceDD_1_1Image.html#aaefe6dcf16c6af302a5a7e6a7f415fd1">DD::Image::plugin_load_all()</a>.</p>

</div>
</div>
<a class="anchor" id="a05e133664f31e5dffe0765c4df141b36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* DDImage_newstring </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Equivalent to strdup() except the C++ new[] operator is used. A block of memory strlen(from)+1 is allocated and the <em>from</em> string is copied to it. Notice that you must use delete[] to destroy the returned value, not free()!</p>
<p>If NULL is passed, a NULL is returned.</p>
<p>It is a good idea to use this instead of strdup() so that all your memory allocations pass through the C++ new-handler.</p>
<p>&lt;<a class="el" href="DDString_8h.html" title="Cross-platform string manipulation functions. ">DDImage/DDString.h</a>&gt; defines newstring() as a macro that calls this. This is to avoid duplicate-symbol conflicts with libraries that define functions by the same name. </p>

</div>
</div>
<a class="anchor" id="a53f9b6b95ed05e70ca8bb68ed1d652ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double DDImage_strtod </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>endptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replacement for strtod() from stdlib.h</p>
<p>Skips all whitespace and then attempts to convert the start of the next text into a double. <em>endptr</em> (if not null) is changed to point at the character it stopped at. This is the same as the standard strtod() but it also recognizes:</p>
<ul>
<li>Infinity as printed by Linux, Windows, and Irix</li>
<li>NaN as printed by Linux, Windows, and Irix</li>
<li>Hex constants like 0xabcde</li>
<li>"true" (1)</li>
<li>"false" (0)</li>
</ul>
<p>These changes allow it to read numbers printed to a file from any platform, and to read constants that were intended for other data types.</p>
<p>&lt;DDImage/string.h&gt; defines strtod() as a macro that calls this, thus replacing the C standard library function. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<br>
<hr>
<table width="100%"  border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><span class="legal">&copy;2022 The Foundry Visionmongers, Ltd.  All Rights Reserved. </span></td>
    <td><div align="right"><span class="legal"><a href="http://www.thefoundry.co.uk" target="_blank">www.thefoundry.co.uk</a></span></div></td>
  </tr>
</table>
</body>
</html>
