<html><head><link href="doxygen.css" rel="stylesheet" type="text/css">
<title>Nuke Developer Kit (NDK) 13.2.4: DD::Image::MatrixArray Class Reference</title></head><body>
<!-- Generated by Doxygen 1.8.10 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classDD_1_1Image_1_1MatrixArray.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classDD_1_1Image_1_1MatrixArray-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DD::Image::MatrixArray Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89f9a83f2ba5e803eefc23a75ec3e62b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89f9a83f2ba5e803eefc23a75ec3e62b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MatrixArray</b> (const <a class="el" href="classDD_1_1Image_1_1MatrixArray.html">MatrixArray</a> &amp;)</td></tr>
<tr class="separator:a89f9a83f2ba5e803eefc23a75ec3e62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade98429fad8be995dc271129f6115588"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade98429fad8be995dc271129f6115588"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MatrixArray</b> (const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;object, const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;camera, const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;projection, const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;format)</td></tr>
<tr class="separator:ade98429fad8be995dc271129f6115588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb6f011cce19b8e0b51e7139786dd3a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affb6f011cce19b8e0b51e7139786dd3a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num_matrices</b> () const </td></tr>
<tr class="separator:affb6f011cce19b8e0b51e7139786dd3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63430a8cf0344d1985bd13933f8b375"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab63430a8cf0344d1985bd13933f8b375"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>object_matrix</b> () const </td></tr>
<tr class="separator:ab63430a8cf0344d1985bd13933f8b375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5311a4a90f830bc5440dc10605066558"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#a5311a4a90f830bc5440dc10605066558">set_object_matrix</a> (const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;m)</td></tr>
<tr class="separator:a5311a4a90f830bc5440dc10605066558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557a9bbf7ac3746516e228bf0e087200"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a557a9bbf7ac3746516e228bf0e087200"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>camera_matrix</b> () const </td></tr>
<tr class="separator:a557a9bbf7ac3746516e228bf0e087200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bdcc4634883f1820504469729286a15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#a9bdcc4634883f1820504469729286a15">set_camera_matrix</a> (const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;m)</td></tr>
<tr class="separator:a9bdcc4634883f1820504469729286a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210b8bc977f6c7634e0d881938201daa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a210b8bc977f6c7634e0d881938201daa"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>projection_matrix</b> () const </td></tr>
<tr class="separator:a210b8bc977f6c7634e0d881938201daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ebb1aeeae12ed60432a55d2f9de47e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#ad9ebb1aeeae12ed60432a55d2f9de47e">set_projection_matrix</a> (const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;m)</td></tr>
<tr class="separator:ad9ebb1aeeae12ed60432a55d2f9de47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1cfddf1efe9aec1b1b2a85ee07368e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#a3f1cfddf1efe9aec1b1b2a85ee07368e">set_format_matrix</a> (const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;m)</td></tr>
<tr class="separator:a3f1cfddf1efe9aec1b1b2a85ee07368e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1b0f1254f3ca568323730bc5ef7d6f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade1b0f1254f3ca568323730bc5ef7d6f"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>format_matrix</b> () const </td></tr>
<tr class="separator:ade1b0f1254f3ca568323730bc5ef7d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141c4580ca01a3650c3225eb7efd1d85"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#a141c4580ca01a3650c3225eb7efd1d85">matrix</a> (int n)</td></tr>
<tr class="separator:a141c4580ca01a3650c3225eb7efd1d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778c6a9e8fa66b6cdaf524d44a75f26a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a778c6a9e8fa66b6cdaf524d44a75f26a"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>matrix</b> (int from, int to)</td></tr>
<tr class="separator:a778c6a9e8fa66b6cdaf524d44a75f26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72568e2e84315db163b36f1ace0275c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac72568e2e84315db163b36f1ace0275c"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>inverse_matrix</b> (int n)</td></tr>
<tr class="separator:ac72568e2e84315db163b36f1ace0275c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc4eddef7601e67692eaac8baa700a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0dc4eddef7601e67692eaac8baa700a6"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>inverse_matrix</b> (int from, int to)</td></tr>
<tr class="separator:a0dc4eddef7601e67692eaac8baa700a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfed03a1a5ac6bd9596514a050368a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afbfed03a1a5ac6bd9596514a050368a8"></a>
const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator[]</b> (int n)</td></tr>
<tr class="separator:afbfed03a1a5ac6bd9596514a050368a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1be1d89f7dc8e258ef751e374e981e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#ace1be1d89f7dc8e258ef751e374e981e">reset</a> ()</td></tr>
<tr class="separator:ace1be1d89f7dc8e258ef751e374e981e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b679db4a95f41a03455e0d64590ec5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDD_1_1Image_1_1MatrixArray.html#ad8b679db4a95f41a03455e0d64590ec5">calculate_all_now</a> ()</td></tr>
<tr class="separator:ad8b679db4a95f41a03455e0d64590ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036751fa8c4e26553e551f23c1a636d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a036751fa8c4e26553e551f23c1a636d9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>print_info</b> (const char *title)</td></tr>
<tr class="separator:a036751fa8c4e26553e551f23c1a636d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An array of <a class="el" href="classDD_1_1Image_1_1Matrix4.html" title="A 4x4 transformation matrix. ">Matrix4</a> transformation matrices organized into a square matrix for constructing fast from/to transform-space conversions. This structure keeps track of the dependencies between the transform matrices so that if one changes which others depend on, the dependent matrices are automatically recalculated when they are next accessed. This mechanism reduces the overhead required in keeping all the transforms up-to-date, specifically keeping the number of expensive matrix inversions at a minimum. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5311a4a90f830bc5440dc10605066558"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixArray::set_object_matrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the transform matrix array with a new object matrix. The matrices that are dependant upon it are marked invalid. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Scene.html#ad825a571c92d0611e08af922eb19e3f4">DD::Image::Scene::evaluate_lights()</a>, <a class="el" href="classDD_1_1Image_1_1ParticlesSprite.html#a1d6c80179e341ea0054ed7c988a07442">DD::Image::ParticlesSprite::tessellate()</a>, and <a class="el" href="classDD_1_1Image_1_1Scene.html#a17c761ac5b382f3dfa243bbd9ae998fc">DD::Image::Scene::validate()</a>.</p>

</div>
</div>
<a class="anchor" id="a9bdcc4634883f1820504469729286a15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixArray::set_camera_matrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the transform matrix array with a new camera matrix. The matrices that are dependant upon it are marked invalid. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Render.html#a44a52a33fa89211f7b01b763d90e22c7">DD::Image::Render::_validate()</a>, and <a class="el" href="classDD_1_1Image_1_1Scene.html#ad825a571c92d0611e08af922eb19e3f4">DD::Image::Scene::evaluate_lights()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9ebb1aeeae12ed60432a55d2f9de47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixArray::set_projection_matrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the transform matrix array with a new projection matrix. The matrices that are dependant upon it are marked invalid. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Render.html#a44a52a33fa89211f7b01b763d90e22c7">DD::Image::Render::_validate()</a>, and <a class="el" href="classDD_1_1Image_1_1Scene.html#ad825a571c92d0611e08af922eb19e3f4">DD::Image::Scene::evaluate_lights()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f1cfddf1efe9aec1b1b2a85ee07368e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixArray::set_format_matrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the transform matrix array with a new format matrix. The matrices that are dependant upon it are marked invalid. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Render.html#a44a52a33fa89211f7b01b763d90e22c7">DD::Image::Render::_validate()</a>, and <a class="el" href="classDD_1_1Image_1_1Scene.html#ad825a571c92d0611e08af922eb19e3f4">DD::Image::Scene::evaluate_lights()</a>.</p>

</div>
</div>
<a class="anchor" id="a141c4580ca01a3650c3225eb7efd1d85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classDD_1_1Image_1_1Matrix4.html">Matrix4</a> &amp; MatrixArray::matrix </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the 4x4 matrix at entry 'n'. Check if it's been calculated yet(validated.) If not, call <a class="el" href="classDD_1_1Image_1_1MatrixArray.html#a141c4580ca01a3650c3225eb7efd1d85">matrix()</a> on the dependency matrix until we can return a result (a dependency matrix may in turn have a dependency it must also resolve, so this can be a recursive call.) </p>

<p>References <a class="el" href="namespaceDD_1_1Image.html#a965f6d35339c1f8b227fa00bafaa4cb8add001d16acbdf687f4b07b91f3cc6b27">DD::Image::CLIP_SPACE</a>, <a class="el" href="namespaceDD_1_1Image.html#a965f6d35339c1f8b227fa00bafaa4cb8ad89e8584f7c56da38fa4cbf3ffa19f5e">DD::Image::EYE_SPACE</a>, and <a class="el" href="namespaceDD_1_1Image.html#a965f6d35339c1f8b227fa00bafaa4cb8aff8bdafb3fa1f370866f350a8b4eb5b3">DD::Image::WORLD_SPACE</a>.</p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1rPoint.html#a1eb549ab899f492fd90fee63ec3409fb">DD::Image::rPoint::add_to_render()</a>, <a class="el" href="classDD_1_1Image_1_1SpriteGenerator.html#a13ac05c33800ebf2d4afd9030df93003">DD::Image::SpriteGenerator::getSprite()</a>, <a class="el" href="classDD_1_1Image_1_1MBParticleSpriteGenerator.html#ac4686065913b8fc404dd96a39d98296b">DD::Image::MBParticleSpriteGenerator::getSprite()</a>, and <a class="el" href="classDD_1_1Image_1_1Scene.html#a17c761ac5b382f3dfa243bbd9ae998fc">DD::Image::Scene::validate()</a>.</p>

</div>
</div>
<a class="anchor" id="ace1be1d89f7dc8e258ef751e374e981e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixArray::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset all matrices to their identity. </p>

<p>Referenced by <a class="el" href="classDD_1_1Image_1_1Scene.html#ad10176d75a9cc0da56626f682d083507">DD::Image::Scene::Scene()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8b679db4a95f41a03455e0d64590ec5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixArray::calculate_all_now </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate all invalid matrices for testing purposes. Only use this for testing as it will calculate all the inverses! </p>

<p>References <a class="el" href="namespaceDD_1_1Image.html#a965f6d35339c1f8b227fa00bafaa4cb8a7986f297435b2984506c5d6272a62d1d">DD::Image::LOCAL_SPACE</a>, and <a class="el" href="namespaceDD_1_1Image.html#a965f6d35339c1f8b227fa00bafaa4cb8a1b1b7b226216d8a2e7b2d374b71dd0ab">DD::Image::SCREEN_SPACE</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<br>
<hr>
<table width="100%"  border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><span class="legal">&copy;2022 The Foundry Visionmongers, Ltd.  All Rights Reserved. </span></td>
    <td><div align="right"><span class="legal"><a href="http://www.thefoundry.co.uk" target="_blank">www.thefoundry.co.uk</a></span></div></td>
  </tr>
</table>
</body>
</html>
